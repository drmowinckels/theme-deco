<!-- Featured Project Section -->
{{ $featuredContent := where (where .Site.RegularPages "Section" "featured") ".Params.featured" true }}
{{ $featured := index $featuredContent 0 }}

{{ if $featured }}
  {{ $projectPage := .Site.GetPage $featured.Params.project_url }}
<section class="grid md:grid-cols-2 min-h-screen">
  <div class="flex items-center justify-center p-8 md:p-12 bg-noir-950 text-cream-100">
    <div class="max-w-lg">
      <div class="text-sm uppercase tracking-wider text-brass-400 mb-4">{{ $featured.Params.eyebrow | default "Featured Project" }}</div>
      <h2 class="text-4xl md:text-5xl font-bold mb-6 font-deco">{{ $featured.Title }}</h2>
      <div class="text-lg mb-8 opacity-90">
        {{ $featured.Summary | markdownify }}
      </div>
      
      <div class="grid grid-cols-3 gap-4 mb-8">
        {{ with $featured.Params.downloads }}
        <div class="text-center">
          <div class="text-2xl font-bold text-brass-400">{{ . }}</div>
          <div class="text-sm text-cream-300">Downloads</div>
        </div>
        {{ end }}
        
        {{ with $featured.Params.stars }}
        <div class="text-center">
          <div class="text-2xl font-bold text-brass-400">{{ . }}</div>
          <div class="text-sm text-cream-300">GitHub Stars</div>
        </div>
        {{ end }}
        
        {{ with $featured.Params.packages }}
        <div class="text-center">
          <div class="text-2xl font-bold text-brass-400">{{ . }}</div>
          <div class="text-sm text-cream-300">Packages</div>
        </div>
        {{ end }}
      </div>
      
      <a href="{{ if $projectPage }}{{ $projectPage.RelPermalink }}{{ else }}{{ $featured.Params.project_url }}{{ end }}" class="inline-block px-8 py-4 bg-accent-primary text-white font-semibold rounded-lg hover:bg-opacity-90 transition-all duration-300 hover:-translate-y-0.5 shadow-lg hover:shadow-xl">
        {{ $featured.Params.cta | default (printf "Explore %s â†’" $featured.Title) }}
      </a>
    </div>
  </div>
  
  <div class="flex items-center justify-center p-8 md:p-12 bg-cream-50 text-noir-800">
    <div class="relative w-full h-full min-h-96">
      <div class="deco-arch w-full h-full relative overflow-hidden">
        {{ if $featured.Resources.GetMatch "featured*" }}
          {{ $image := $featured.Resources.GetMatch "featured*" }}
          <img src="{{ $image.RelPermalink }}" alt="{{ $featured.Title }}" loading="lazy" class="w-full h-full object-cover">
        {{ else if and $projectPage ($projectPage.Resources.GetMatch "featured*") }}
          {{ $image := $projectPage.Resources.GetMatch "featured*" }}
          <img src="{{ $image.RelPermalink }}" alt="{{ $featured.Title }}" loading="lazy" class="w-full h-full object-cover">
        {{ else if $featured.Params.image }}
          <img src="{{ $featured.Params.image | relURL }}" alt="{{ $featured.Title }}" loading="lazy" class="w-full h-full object-cover">
        {{ else }}
          <!-- Fallback visualization -->
          <div class="bg-gradient-to-br from-amethyst-500 to-teal-600 w-full h-full flex items-center justify-center">
            <div class="text-center">
              <div class="text-6xl mb-4">{{ $featured.Params.icon | default "ğŸ§ " }}</div>
              <div class="text-lg font-semibold text-white">{{ $featured.Title }}</div>
              <div class="text-sm text-white/80">{{ $featured.Params.tagline | default "Featured Project" }}</div>
            </div>
          </div>
        {{ end }}
      </div>
    </div>
  </div>
</section>
{{ end }}