@import "tailwindcss";

@layer theme {
  :root {
    /* Typography */
    --font-deco: "Playfair Display", Georgia, serif;
    --font-deco-sans: "Inter", system-ui, sans-serif;
    
    /* Design tokens */
    --radius-deco: 0.75rem;
    --radius-deco-lg: 1.5rem;
    
    /* Easing functions */
    --ease-deco: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --ease-deco-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }
}

@layer base {
  html {
    scroll-behavior: smooth;
  }

  body {
    background-color: var(--color-background);
    color: var(--color-text-primary);
    font-family: var(--font-deco-sans);
    line-height: 1.6;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-deco);
    line-height: 1.2;
  }

  /* Focus styles for accessibility */
  *:focus-visible {
    outline: 2px solid var(--color-accent-primary);
    outline-offset: 2px;
    border-radius: 4px;
  }

  /* Selection styles */
  ::selection {
    background-color: color-mix(in srgb, var(--color-accent-primary) 20%, transparent);
    color: var(--color-text-primary);
  }
}

@layer components {
  /* Only absolutely necessary custom components */
  
  /* Art Deco arch shape - can't be done with utilities alone */
  .deco-arch {
    border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
  }
  
  /* Theme toggle - complex pseudo-element behavior */
  .theme-toggle {
    @apply w-14 h-8 bg-surface-elevated border-2 border-border rounded-full relative cursor-pointer transition-all duration-300;
    
    &::before {
      content: '';
      position: absolute;
      top: 1px;
      left: 1px;
      width: 24px;
      height: 24px;
      background: var(--color-accent-primary);
      border-radius: 50%;
      transition: all 0.3s var(--ease-deco);
      box-shadow: 0 2px 4px color-mix(in srgb, black 20%, transparent);
    }
    
    &:hover {
      border-color: var(--color-border-focus);
    }
    
    .dark &::before {
      transform: translateX(20px);
    }
  }

  /* Art Deco divider - gradient can't be easily done with utilities */
  .deco-divider {
    @apply h-px mt-8;
    background: linear-gradient(to right, transparent, var(--color-accent-primary), transparent);
  }
}

@layer utilities {
  /* Typography utilities */
  .font-deco { 
    font-family: var(--font-deco); 
  }
  
  .font-deco-sans { 
    font-family: var(--font-deco-sans); 
  }
  
  /* Transition utilities */
  .transition-deco { 
    transition-timing-function: var(--ease-deco);
  }
  
  .transition-deco-bounce { 
    transition-timing-function: var(--ease-deco-bounce);
  }

  /* Border radius utilities */
  .rounded-deco { 
    border-radius: var(--radius-deco); 
  }
  
  .rounded-deco-lg { 
    border-radius: var(--radius-deco-lg); 
  }

  /* Text shadow utility */
  .text-shadow-deco {
    text-shadow: 0 2px 4px color-mix(in srgb, var(--color-accent-primary) 20%, transparent);
  }

  /* Accessibility utilities */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }
}